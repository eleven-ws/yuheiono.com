{"version":3,"file":"component---src-templates-work-tsx-f32370e230e7023f3c8f.js","mappings":"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","sources":["webpack://yuheiono.com/./node_modules/@cloudflare/stream-react/dist/stream-react.esm.js","webpack://yuheiono.com/./src/templates/work.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from 'react';\n\nvar sdkScriptLocation = \"https://embed.cloudflarestream.com/embed/sdk.latest.js\"; // This needs to be wrapped as such for two reasons:\n// - Stream is a function, and useState invokes functions immediately and uses the return value.\n// - We need to check typeof on window to ensure safety for server side rendering.\n\nvar safelyAccessStreamSDK = function safelyAccessStreamSDK() {\n  if (typeof window === \"undefined\") return undefined;\n  return window.Stream;\n};\nfunction useStreamSDK() {\n  var _useState = useState(safelyAccessStreamSDK),\n      streamSdk = _useState[0],\n      setStreamSdk = _useState[1];\n\n  useEffect(function () {\n    if (!streamSdk) {\n      var existingScript = document.querySelector(\"script[src='\" + sdkScriptLocation + \"']\");\n      var script = existingScript !== null && existingScript !== void 0 ? existingScript : document.createElement(\"script\");\n      script.addEventListener(\"load\", function () {\n        setStreamSdk(safelyAccessStreamSDK);\n      });\n\n      if (!existingScript) {\n        script.src = sdkScriptLocation;\n        document.head.appendChild(script);\n      }\n    }\n  }, [streamSdk]);\n  return streamSdk;\n}\n\nfunction useIframeSrc(src, _ref) {\n  var muted = _ref.muted,\n      preload = _ref.preload,\n      loop = _ref.loop,\n      autoplay = _ref.autoplay,\n      controls = _ref.controls,\n      poster = _ref.poster,\n      primaryColor = _ref.primaryColor,\n      letterboxColor = _ref.letterboxColor,\n      adUrl = _ref.adUrl,\n      startTime = _ref.startTime,\n      defaultTextTrack = _ref.defaultTextTrack,\n      customerCode = _ref.customerCode;\n  var paramString = [poster && \"poster=\" + encodeURIComponent(poster), adUrl && \"ad-url=\" + encodeURIComponent(adUrl), defaultTextTrack && \"defaultTextTrack=\" + encodeURIComponent(defaultTextTrack), primaryColor && \"primaryColor=\" + encodeURIComponent(primaryColor), letterboxColor && \"letterboxColor=\" + encodeURIComponent(letterboxColor), startTime && \"startTime=\" + startTime, muted && \"muted=true\", preload && \"preload=\" + preload, loop && \"loop=true\", autoplay && \"autoplay=true\", !controls && \"controls=false\"].filter(Boolean).join(\"&\");\n  var iframeSrc = useMemo(function () {\n    return customerCode ? \"https://customer-\" + customerCode + \".cloudflarestream.com/\" + src + \"/iframe?\" + paramString : \"https://iframe.cloudflarestream.com/\" + src + \"?\" + paramString;\n  }, // we intentionally do NOT include paramString here because we want\n  // to avoid changing the URL when these options change. Changes to\n  // these options will instead be handled separately via the SDK.\n  []);\n  return iframeSrc;\n}\n\nfunction validSrcUrl(str) {\n  try {\n    var url = new URL(str);\n    return url.hostname.endsWith(\"videodelivery.net\") || url.hostname.endsWith(\"cloudflarestream.com\");\n  } catch (_unused) {\n    return false;\n  }\n}\n\n/**\r\n * Hook for syncing properties to the SDK api when they change\r\n */\n\nfunction useProperty(name, ref, value) {\n  useEffect(function () {\n    if (!ref.current || value === undefined) return;\n    var el = ref.current;\n    el[name] = value;\n  }, [name, value, ref]);\n}\n/**\r\n * Hook for binding event listeners to the player.\r\n */\n\n\nfunction useEvent(event, ref, callback) {\n  if (callback === void 0) {\n    callback = noop;\n  }\n\n  useEffect(function () {\n    if (!ref.current) return;\n    var el = ref.current;\n    el.addEventListener(event, callback); // clean up\n\n    return function () {\n      return el.removeEventListener(event, callback);\n    };\n  }, [callback, event, ref]);\n} // Declaring a single noop function that will retain object\n// identity across renders and prevent unnecessary rebinding\n// when no callback is provided\n\n\nvar noop = function noop() {};\n\nvar Stream = function Stream(props) {\n  var streamSdk = useStreamSDK();\n  return streamSdk ? React.createElement(StreamEmbed, Object.assign({}, props)) : null;\n};\nvar responsiveIframeStyles = {\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  height: \"100%\",\n  width: \"100%\"\n};\n\nvar Container = function Container(_ref) {\n  var children = _ref.children,\n      responsive = _ref.responsive,\n      className = _ref.className,\n      videoDimensions = _ref.videoDimensions;\n  var videoHeight = videoDimensions.videoHeight,\n      videoWidth = videoDimensions.videoWidth;\n  var responsiveStyles = useMemo(function () {\n    return {\n      position: \"relative\",\n      paddingTop: videoWidth > 0 ? videoHeight / videoWidth * 100 + \"%\" : undefined\n    };\n  }, [videoWidth, videoHeight]);\n  return React.createElement(\"div\", {\n    className: className,\n    style: responsive ? responsiveStyles : undefined\n  }, children);\n};\n\nvar StreamEmbed = function StreamEmbed(_ref2) {\n  var src = _ref2.src,\n      customerCode = _ref2.customerCode,\n      adUrl = _ref2.adUrl,\n      _ref2$controls = _ref2.controls,\n      controls = _ref2$controls === void 0 ? false : _ref2$controls,\n      _ref2$muted = _ref2.muted,\n      muted = _ref2$muted === void 0 ? false : _ref2$muted,\n      _ref2$autoplay = _ref2.autoplay,\n      autoplay = _ref2$autoplay === void 0 ? false : _ref2$autoplay,\n      _ref2$loop = _ref2.loop,\n      loop = _ref2$loop === void 0 ? false : _ref2$loop,\n      _ref2$preload = _ref2.preload,\n      preload = _ref2$preload === void 0 ? \"metadata\" : _ref2$preload,\n      primaryColor = _ref2.primaryColor,\n      letterboxColor = _ref2.letterboxColor,\n      defaultTextTrack = _ref2.defaultTextTrack,\n      height = _ref2.height,\n      width = _ref2.width,\n      poster = _ref2.poster,\n      currentTime = _ref2.currentTime,\n      _ref2$volume = _ref2.volume,\n      volume = _ref2$volume === void 0 ? 1 : _ref2$volume,\n      _ref2$playbackRate = _ref2.playbackRate,\n      playbackRate = _ref2$playbackRate === void 0 ? 1 : _ref2$playbackRate,\n      startTime = _ref2.startTime,\n      streamRef = _ref2.streamRef,\n      _ref2$responsive = _ref2.responsive,\n      responsive = _ref2$responsive === void 0 ? true : _ref2$responsive,\n      className = _ref2.className,\n      title = _ref2.title,\n      onAbort = _ref2.onAbort,\n      onCanPlay = _ref2.onCanPlay,\n      onCanPlayThrough = _ref2.onCanPlayThrough,\n      onDurationChange = _ref2.onDurationChange,\n      onEnded = _ref2.onEnded,\n      onError = _ref2.onError,\n      onLoadedData = _ref2.onLoadedData,\n      onLoadedMetaData = _ref2.onLoadedMetaData,\n      onLoadStart = _ref2.onLoadStart,\n      onPause = _ref2.onPause,\n      onPlay = _ref2.onPlay,\n      onPlaying = _ref2.onPlaying,\n      onProgress = _ref2.onProgress,\n      onRateChange = _ref2.onRateChange,\n      onResize = _ref2.onResize,\n      onSeeked = _ref2.onSeeked,\n      onSeeking = _ref2.onSeeking,\n      onStalled = _ref2.onStalled,\n      onSuspend = _ref2.onSuspend,\n      onTimeUpdate = _ref2.onTimeUpdate,\n      onVolumeChange = _ref2.onVolumeChange,\n      onWaiting = _ref2.onWaiting,\n      onStreamAdStart = _ref2.onStreamAdStart,\n      onStreamAdEnd = _ref2.onStreamAdEnd,\n      onStreamAdTimeout = _ref2.onStreamAdTimeout;\n  var internalRef = useRef();\n  var ref = streamRef !== null && streamRef !== void 0 ? streamRef : internalRef;\n\n  var _useState = useState({\n    videoHeight: 0,\n    videoWidth: 0\n  }),\n      videoDimensions = _useState[0],\n      setVideoDimensions = _useState[1];\n\n  var iframeRef = useRef(null);\n  var computedSrc = useIframeSrc(src, {\n    customerCode: customerCode,\n    muted: muted,\n    preload: preload,\n    loop: loop,\n    autoplay: autoplay,\n    controls: controls,\n    poster: poster,\n    primaryColor: primaryColor,\n    letterboxColor: letterboxColor,\n    adUrl: adUrl,\n    defaultTextTrack: defaultTextTrack,\n    startTime: startTime\n  }); // While it's easier for most consumers to simply provide the video UID\n  // or signed token and have us compute the iframe's src for them, some\n  // consumers may need to manually specify the iframe's src.\n\n  var iframeSrc = validSrcUrl(src) ? src : computedSrc;\n  useProperty(\"muted\", ref, muted);\n  useProperty(\"controls\", ref, controls);\n  useProperty(\"src\", ref, src);\n  useProperty(\"autoplay\", ref, autoplay);\n  useProperty(\"currentTime\", ref, currentTime);\n  useProperty(\"loop\", ref, loop);\n  useProperty(\"preload\", ref, preload);\n  useProperty(\"primaryColor\", ref, primaryColor);\n  useProperty(\"letterboxColor\", ref, letterboxColor);\n  useProperty(\"volume\", ref, volume);\n  useProperty(\"playbackRate\", ref, playbackRate); // instantiate API after properties are bound because we want undefined\n  // values to be set before defining the properties\n\n  useEffect(function () {\n    var Stream = safelyAccessStreamSDK();\n\n    if (iframeRef.current && Stream) {\n      var api = Stream(iframeRef.current);\n      ref.current = api;\n      var videoHeight = api.videoHeight,\n          videoWidth = api.videoWidth;\n      if (videoHeight && videoWidth) setVideoDimensions({\n        videoHeight: videoHeight,\n        videoWidth: videoWidth\n      });\n    }\n  }, []); // bind events\n\n  useEvent(\"abort\", ref, onAbort);\n  useEvent(\"canplay\", ref, onCanPlay);\n  useEvent(\"canplaythrough\", ref, onCanPlayThrough);\n  useEvent(\"durationchange\", ref, onDurationChange);\n  useEvent(\"ended\", ref, onEnded);\n  useEvent(\"error\", ref, onError);\n  useEvent(\"loadeddata\", ref, onLoadedData);\n  useEvent(\"loadedmetadata\", ref, onLoadedMetaData);\n  useEvent(\"loadstart\", ref, onLoadStart);\n  useEvent(\"pause\", ref, onPause);\n  useEvent(\"play\", ref, onPlay);\n  useEvent(\"playing\", ref, onPlaying);\n  useEvent(\"progress\", ref, onProgress);\n  useEvent(\"ratechange\", ref, onRateChange);\n  useEvent(\"seeked\", ref, onSeeked);\n  useEvent(\"seeking\", ref, onSeeking);\n  useEvent(\"stalled\", ref, onStalled);\n  useEvent(\"suspend\", ref, onSuspend);\n  useEvent(\"timeupdate\", ref, onTimeUpdate);\n  useEvent(\"volumechange\", ref, onVolumeChange);\n  useEvent(\"waiting\", ref, onWaiting);\n  useEvent(\"stream-adstart\", ref, onStreamAdStart);\n  useEvent(\"stream-adend\", ref, onStreamAdEnd);\n  useEvent(\"stream-adtimeout\", ref, onStreamAdTimeout);\n  useEvent(\"resize\", ref, function (e) {\n    if (ref.current) {\n      var _ref$current = ref.current,\n          videoHeight = _ref$current.videoHeight,\n          videoWidth = _ref$current.videoWidth;\n      setVideoDimensions({\n        videoHeight: videoHeight,\n        videoWidth: videoWidth\n      });\n      onResize && onResize(e);\n    }\n  });\n  return React.createElement(Container, {\n    className: className,\n    responsive: responsive,\n    videoDimensions: videoDimensions\n  }, React.createElement(\"iframe\", {\n    ref: iframeRef,\n    src: iframeSrc,\n    title: title,\n    style: responsive ? responsiveIframeStyles : undefined,\n    frameBorder: 0,\n    height: height,\n    width: width,\n    allow: \"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\",\n    allowFullScreen: true\n  }));\n};\n\nexport { Stream, useStreamSDK };\n//# sourceMappingURL=stream-react.esm.js.map\n","import * as React from 'react';\nimport { navigate } from 'gatsby';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid2';\nimport Typography from '@mui/material/Typography';\nimport { Stream } from '@cloudflare/stream-react';\nimport { Layout } from '../components/layout';\nimport { Link } from '../components/common/link';\nimport { Seo } from '../components/seo';\nimport { Navigation } from '../components/navigation';\nimport { isExistId, idToLabel } from '../libs/categories';\nimport { works } from '../libs/works';\n\ninterface IProps {\n  data: any;\n  pageContext: any;\n  location: any;\n}\n\nconst Work = (props: IProps): React.JSX.Element => {\n  const { pageContext } = props;\n\n  const [category, setCategory] = React.useState<string>('all');\n\n  const { html, frontmatter } = pageContext.work;\n  const { slug }: { slug: string } = frontmatter;\n\n  const _works = works.filter(work => {\n    if (category !== 'all') {\n      // カテゴリーが指定されている場合は一致するもののみ抽出\n      if (Array.isArray(work.category)) {\n        return work.category.includes(category);\n      } else {\n        return work.category === category;\n      }\n    } else {\n      // カテゴリ未指定時は全てのアイテムを返す\n      return true;\n    }\n  });\n\n  const currentIndex: number = _works.findIndex(\n    ({ link }) => `/${link}` === slug\n  );\n\n  const nextIndex: number = (currentIndex + 1) % _works.length;\n  const prevIndex: number =\n    currentIndex === 0 ? _works.length - 1 : currentIndex - 1;\n\n  const currentData = _works[currentIndex];\n  const nextData = _works[nextIndex];\n  const prevData = _works[prevIndex];\n\n  const prevLink: string = `/works/${prevData?.link}/${\n    category ? `?category=${category}` : ''\n  }`;\n  const nextLink: string = `/works/${nextData?.link}/${\n    category ? `?category=${category}` : ''\n  }`;\n  const categoryLink: string =\n    '/works/' + (category ? `?category=${category}` : '');\n\n  React.useEffect(() => {\n    const param: URLSearchParams = new URLSearchParams(props.location.search);\n    const category: string | null = param.get('category');\n    if (category && isExistId(category)) {\n      setCategory(category);\n    }\n  }, [props.location.search]);\n\n  return (\n    <Layout>\n      <Navigation />\n      <Box py={10}>\n        <Grid container justifyContent='center' spacing={4}>\n          {currentData?.creatives?.map((image: Creative, i: number) => {\n            // [NOTE]: GatsbyImage の圧縮により 1920:1918 のようなパターンが発生したため\n            // ポートレート判定に含みを持たせるため 1.1 と比較\n            // const isPortrait = image.width <= image.height;\n\n            const streamId: string | undefined = image.streamId;\n            const isVideo: boolean = image.type === 'video';\n            const isPortrait: boolean = image.width / image.height <= 1.1;\n            let floatWidth: string | number;\n            let floatHeight: string | number;\n\n            if (isVideo) {\n              floatWidth = isPortrait ? 320 : 640;\n              floatHeight = (floatWidth / image.width) * image.height;\n            } else {\n              floatWidth = isPortrait ? '50%' : '75%';\n              floatHeight = '100%';\n            }\n\n            return (\n              <Grid size={12} key={i}>\n                {streamId ? (\n                  <Box\n                    display='flex'\n                    justifyContent='center'\n                    alignItems='center'\n                  >\n                    <Box\n                      style={{\n                        width: floatWidth,\n                        height: floatHeight,\n                        backgroundColor: '#ddd'\n                      }}\n                    >\n                      <Stream controls src={streamId} preload='auto' />\n                    </Box>\n                  </Box>\n                ) : isVideo ? (\n                  <Box\n                    display='flex'\n                    justifyContent='center'\n                    alignItems='center'\n                  >\n                    <video\n                      // @note iPhone Safari で動画再生前に何も表示されず真っ白になる問題の対応のため #t= を追加\n                      src={`https://cdn.yuheiono.com/videos/${image.name}#t=0.001`}\n                      width={floatWidth}\n                      height={floatHeight}\n                      autoPlay={false}\n                      disablePictureInPicture={true}\n                      controls={true}\n                      controlsList={[\n                        'nodownload',\n                        'nofullscreen',\n                        'noplaybackrate'\n                      ].join(' ')}\n                      onContextMenu={e => {\n                        e.preventDefault();\n                      }}\n                      style={{\n                        maxWidth: '100%',\n                        backgroundColor: '#ddd'\n                      }}\n                    />\n                  </Box>\n                ) : (\n                  <Box\n                    sx={{\n                      width: {\n                        md: floatWidth,\n                        sm: '100%',\n                        xs: '100%'\n                      },\n                      mx: 'auto',\n                      pointerEvents: 'none',\n                      userSelect: 'none'\n                    }}\n                    onClick={e => e.preventDefault()}\n                    onMouseDown={e => e.preventDefault()}\n                    onMouseUp={e => e.preventDefault()}\n                    onContextMenu={e => {\n                      e.preventDefault();\n                    }}\n                  >\n                    <img\n                      src={`https://cdn.yuheiono.com/images/${image.name}`}\n                      alt={image.name}\n                      width={image.width}\n                      height={image.height}\n                      style={{\n                        width: '100%',\n                        height: 'auto',\n                        backgroundColor: '#ddd',\n                        pointerEvents: 'none',\n                        userSelect: 'none'\n                      }}\n                    />\n                  </Box>\n                )}\n              </Grid>\n            );\n          })}\n          <Grid size={12} mb={4}>\n            <div dangerouslySetInnerHTML={{ __html: html }} />\n            <Typography\n              sx={{ letterSpacing: '0.25rem', textAlign: 'center' }}\n              dangerouslySetInnerHTML={{\n                __html: currentData?.title\n              }}\n            />\n            <Typography\n              sx={{ mt: 2, textAlign: 'center' }}\n              dangerouslySetInnerHTML={{\n                __html: currentData?.description\n              }}\n            />\n          </Grid>\n          {/*\n          <Grid size={12} mb={4}>\n            <Box display='flex' justifyContent='center'>\n              <Box\n                sx={{\n                  fontSize: 12,\n                  width: {\n                    md: 640,\n                    sm: 480,\n                    xs: 280\n                  }\n                }}\n              >\n                小野悠平／フォトグラファー・映像クリエイター\n                <br />\n                1990年、神戸市出身。インテリアカメラマンとして商品撮影に従事したのち独立。大阪,京都,兵庫など関西を拠点に全国でホテル撮影,旅館撮影を主軸に活動。建築撮影,モデル撮影,フード撮影,映像制作まで手掛ける。現在は宿泊施設に留まらず、飲食店やECサイト等からの依頼に幅広く対応。広告撮影をはじめ、SNS用撮影やショート動画制作にも力を入れている。\n              </Box>\n            </Box>\n          </Grid>\n          */}\n          <Grid size={6}>\n            <Box>\n              <Link\n                href={prevLink}\n                onClick={e => {\n                  e.preventDefault();\n                  navigate(prevLink);\n                }}\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'start'\n                }}\n              >\n                &lt;\n                <Typography\n                  variant='body2'\n                  align='left'\n                  sx={{\n                    ml: 1,\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  }}\n                >\n                  {prevData?.title.replace('<br />', ' ')}\n                </Typography>\n              </Link>\n            </Box>\n          </Grid>\n          <Grid size={6}>\n            <Box>\n              <Link\n                href={nextLink}\n                onClick={e => {\n                  e.preventDefault();\n                  navigate(nextLink);\n                }}\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'end'\n                }}\n              >\n                <Typography\n                  variant='body2'\n                  align='right'\n                  sx={{\n                    mr: 1,\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  }}\n                >\n                  {nextData?.title.replace('<br />', ' ')}\n                </Typography>\n                &gt;\n              </Link>\n            </Box>\n          </Grid>\n          <Grid size={12}>\n            <Box\n              sx={{\n                display: 'flex',\n                justifyContent: 'center'\n              }}\n            >\n              <Link\n                href={categoryLink}\n                onClick={e => {\n                  e.preventDefault();\n                  navigate(categoryLink);\n                }}\n              >\n                <Typography variant='body2'>\n                  Back to \"{category ? idToLabel(category) : 'All'}\"\n                </Typography>\n              </Link>\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Layout>\n  );\n};\n\nexport default Work;\n\nexport const Head = ({\n  pageContext\n}: {\n  pageContext: any;\n}): React.JSX.Element => {\n  const { slug }: { slug: string } = pageContext.work.frontmatter;\n\n  const currentIndex: number = works.findIndex(\n    ({ link }: { link: string }): boolean => `/${link}` === slug\n  );\n\n  const title: string = works[currentIndex]?.title.replace('<br />', ' ') || '';\n\n  return <Seo title={title} />;\n};\n"],"names":["sdkScriptLocation","safelyAccessStreamSDK","window","Stream","useProperty","name","ref","value","useEffect","current","undefined","useEvent","event","callback","noop","el","addEventListener","removeEventListener","props","_useState","useState","streamSdk","setStreamSdk","existingScript","document","querySelector","script","createElement","src","head","appendChild","useStreamSDK","StreamEmbed","Object","assign","responsiveIframeStyles","position","top","left","right","bottom","height","width","Container","_ref","children","responsive","className","videoDimensions","videoHeight","videoWidth","responsiveStyles","useMemo","paddingTop","style","_ref2","customerCode","adUrl","_ref2$controls","controls","_ref2$muted","muted","_ref2$autoplay","autoplay","_ref2$loop","loop","_ref2$preload","preload","primaryColor","letterboxColor","defaultTextTrack","poster","currentTime","_ref2$volume","volume","_ref2$playbackRate","playbackRate","startTime","streamRef","_ref2$responsive","title","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEnded","onError","onLoadedData","onLoadedMetaData","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onResize","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onStreamAdStart","onStreamAdEnd","onStreamAdTimeout","internalRef","useRef","setVideoDimensions","iframeRef","computedSrc","paramString","encodeURIComponent","filter","Boolean","join","useIframeSrc","iframeSrc","str","url","URL","hostname","endsWith","_unused","validSrcUrl","api","e","_ref$current","frameBorder","allow","allowFullScreen","_currentData$creative","pageContext","category","setCategory","React","html","frontmatter","work","slug","_works","works","Array","isArray","includes","currentIndex","findIndex","link","nextIndex","length","prevIndex","currentData","nextData","prevData","prevLink","nextLink","categoryLink","URLSearchParams","location","search","get","isExistId","___EmotionJSX","Layout","Navigation","Box","py","Grid","container","justifyContent","spacing","creatives","map","image","i","streamId","isVideo","type","isPortrait","floatWidth","floatHeight","size","key","display","alignItems","backgroundColor","autoPlay","disablePictureInPicture","controlsList","onContextMenu","preventDefault","maxWidth","sx","md","sm","xs","mx","pointerEvents","userSelect","onClick","onMouseDown","onMouseUp","alt","mb","dangerouslySetInnerHTML","__html","Typography","letterSpacing","textAlign","mt","description","Link","href","navigate","variant","align","ml","overflow","textOverflow","whiteSpace","replace","mr","idToLabel","Head","_works$currentIndex","_ref3","Seo"],"sourceRoot":""}