"use strict";(self.webpackChunkyuheiono_com=self.webpackChunkyuheiono_com||[]).push([[695],{5105:function(e,t,o){o.r(t),o.d(t,{Head:function(){return A},default:function(){return b}});var n=o(4041),r=o(2053),a=o(4477),i=o(1350),l=o(9494),d="https://embed.cloudflarestream.com/embed/sdk.latest.js",s=function(){if("undefined"!=typeof window)return window.Stream};function u(e,t,o){(0,n.useEffect)((function(){t.current&&void 0!==o&&(t.current[e]=o)}),[e,o,t])}function c(e,t,o){void 0===o&&(o=m),(0,n.useEffect)((function(){if(t.current){var n=t.current;return n.addEventListener(e,o),function(){return n.removeEventListener(e,o)}}}),[o,e,t])}var m=function(){},p=function(e){return function(){var e=(0,n.useState)(s),t=e[0],o=e[1];return(0,n.useEffect)((function(){if(!t){var e=document.querySelector("script[src='"+d+"']"),n=null!=e?e:document.createElement("script");n.addEventListener("load",(function(){o(s)})),e||(n.src=d,document.head.appendChild(n))}}),[t]),t}()?n.createElement(v,Object.assign({},e)):null},f={position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%"},h=function(e){var t=e.children,o=e.responsive,r=e.className,a=e.videoDimensions,i=a.videoHeight,l=a.videoWidth,d=(0,n.useMemo)((function(){return{position:"relative",paddingTop:l>0?i/l*100+"%":void 0}}),[l,i]);return n.createElement("div",{className:r,style:o?d:void 0},t)},v=function(e){var t=e.src,o=e.customerCode,r=e.adUrl,a=e.controls,i=void 0!==a&&a,l=e.muted,d=void 0!==l&&l,m=e.autoplay,p=void 0!==m&&m,v=e.loop,g=void 0!==v&&v,y=e.preload,C=void 0===y?"metadata":y,w=e.primaryColor,x=e.letterboxColor,k=e.defaultTextTrack,Y=e.height,b=e.width,A=e.poster,S=e.currentTime,T=e.volume,E=void 0===T?1:T,I=e.playbackRate,R=void 0===I?1:I,D=e.startTime,L=e.streamRef,U=e.responsive,P=void 0===U||U,$=e.className,j=e.title,H=e.onAbort,M=e.onCanPlay,N=e.onCanPlayThrough,W=e.onDurationChange,z=e.onEnded,_=e.onError,B=e.onLoadedData,O=e.onLoadedMetaData,F=e.onLoadStart,V=e.onPause,q=e.onPlay,G=e.onPlaying,K=e.onProgress,J=e.onRateChange,Q=e.onResize,X=e.onSeeked,Z=e.onSeeking,ee=e.onStalled,te=e.onSuspend,oe=e.onTimeUpdate,ne=e.onVolumeChange,re=e.onWaiting,ae=e.onStreamAdStart,ie=e.onStreamAdEnd,le=e.onStreamAdTimeout,de=(0,n.useRef)(),se=null!=L?L:de,ue=(0,n.useState)({videoHeight:0,videoWidth:0}),ce=ue[0],me=ue[1],pe=(0,n.useRef)(null),fe=function(e,t){var o=t.muted,r=t.preload,a=t.loop,i=t.autoplay,l=t.controls,d=t.poster,s=t.primaryColor,u=t.letterboxColor,c=t.adUrl,m=t.startTime,p=t.defaultTextTrack,f=t.customerCode,h=[d&&"poster="+encodeURIComponent(d),c&&"ad-url="+encodeURIComponent(c),p&&"defaultTextTrack="+encodeURIComponent(p),s&&"primaryColor="+encodeURIComponent(s),u&&"letterboxColor="+encodeURIComponent(u),m&&"startTime="+m,o&&"muted=true",r&&"preload="+r,a&&"loop=true",i&&"autoplay=true",!l&&"controls=false"].filter(Boolean).join("&");return(0,n.useMemo)((function(){return f?"https://customer-"+f+".cloudflarestream.com/"+e+"/iframe?"+h:"https://iframe.cloudflarestream.com/"+e+"?"+h}),[])}(t,{customerCode:o,muted:d,preload:C,loop:g,autoplay:p,controls:i,poster:A,primaryColor:w,letterboxColor:x,adUrl:r,defaultTextTrack:k,startTime:D}),he=function(e){try{var t=new URL(e);return t.hostname.endsWith("videodelivery.net")||t.hostname.endsWith("cloudflarestream.com")}catch(o){return!1}}(t)?t:fe;return u("muted",se,d),u("controls",se,i),u("src",se,t),u("autoplay",se,p),u("currentTime",se,S),u("loop",se,g),u("preload",se,C),u("primaryColor",se,w),u("letterboxColor",se,x),u("volume",se,E),u("playbackRate",se,R),(0,n.useEffect)((function(){var e=s();if(pe.current&&e){var t=e(pe.current);se.current=t;var o=t.videoHeight,n=t.videoWidth;o&&n&&me({videoHeight:o,videoWidth:n})}}),[]),c("abort",se,H),c("canplay",se,M),c("canplaythrough",se,N),c("durationchange",se,W),c("ended",se,z),c("error",se,_),c("loadeddata",se,B),c("loadedmetadata",se,O),c("loadstart",se,F),c("pause",se,V),c("play",se,q),c("playing",se,G),c("progress",se,K),c("ratechange",se,J),c("seeked",se,X),c("seeking",se,Z),c("stalled",se,ee),c("suspend",se,te),c("timeupdate",se,oe),c("volumechange",se,ne),c("waiting",se,re),c("stream-adstart",se,ae),c("stream-adend",se,ie),c("stream-adtimeout",se,le),c("resize",se,(function(e){if(se.current){var t=se.current,o=t.videoHeight,n=t.videoWidth;me({videoHeight:o,videoWidth:n}),Q&&Q(e)}})),n.createElement(h,{className:$,responsive:P,videoDimensions:ce},n.createElement("iframe",{ref:pe,src:he,title:j,style:P?f:void 0,frameBorder:0,height:Y,width:b,allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0}))},g=o(400),y=o(6925),C=o(4938),w=o(9985),x=o(4039),k=o(3878),Y=o(7437);var b=e=>{var t;const{pageContext:o}=e,[d,s]=n.useState("all"),{html:u,frontmatter:c}=o.work,{slug:m}=c,f=k.N.filter((e=>"all"===d||(Array.isArray(e.category)?e.category.includes(d):e.category===d))),h=f.findIndex((e=>{let{link:t}=e;return`/${t}`===m})),v=(h+1)%f.length,C=0===h?f.length-1:h-1,b=f[h],A=f[v],S=f[C],T=`/works/${null==S?void 0:S.link}/${d?`?category=${d}`:""}`,E=`/works/${null==A?void 0:A.link}/${d?`?category=${d}`:""}`,I="/works/"+(d?`?category=${d}`:"");return n.useEffect((()=>{const t=new URLSearchParams(e.location.search).get("category");t&&(0,x.RK)(t)&&s(t)}),[e.location.search]),(0,Y.Y)(g.P,null,(0,Y.Y)(w.V,null),(0,Y.Y)(a.A,{py:10},(0,Y.Y)(i.A,{container:!0,justifyContent:"center",spacing:4},null==b||null===(t=b.creatives)||void 0===t?void 0:t.map(((e,t)=>{const o=e.streamId,n="video"===e.type,r=e.width/e.height<=1.1;let l,d;return n?(l=r?320:640,d=l/e.width*e.height):(l=r?"50%":"75%",d="100%"),(0,Y.Y)(i.A,{size:12,key:t},o?(0,Y.Y)(a.A,{display:"flex",justifyContent:"center",alignItems:"center"},(0,Y.Y)(a.A,{style:{width:l,height:d,backgroundColor:"#ddd"}},(0,Y.Y)(p,{controls:!0,src:o,preload:"auto"}))):n?(0,Y.Y)(a.A,{display:"flex",justifyContent:"center",alignItems:"center"},(0,Y.Y)("video",{src:`https://cdn.yuheiono.com/videos/${e.name}#t=0.001`,width:l,height:d,autoPlay:!1,disablePictureInPicture:!0,controls:!0,controlsList:["nodownload","nofullscreen","noplaybackrate"].join(" "),onContextMenu:e=>{e.preventDefault()},style:{maxWidth:"100%",backgroundColor:"#ddd"}})):(0,Y.Y)(a.A,{sx:{width:{md:l,sm:"100%",xs:"100%"},mx:"auto",pointerEvents:"none",userSelect:"none"},onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),onMouseUp:e=>e.preventDefault(),onContextMenu:e=>{e.preventDefault()}},(0,Y.Y)("img",{src:`https://cdn.yuheiono.com/images/${e.name}`,alt:e.name,width:e.width,height:e.height,style:{width:"100%",height:"auto",backgroundColor:"#ddd",pointerEvents:"none",userSelect:"none"}})))})),(0,Y.Y)(i.A,{size:12,mb:4},(0,Y.Y)("div",{dangerouslySetInnerHTML:{__html:u}}),(0,Y.Y)(l.A,{sx:{letterSpacing:"0.25rem",textAlign:"center"},dangerouslySetInnerHTML:{__html:null==b?void 0:b.title}}),(0,Y.Y)(l.A,{sx:{mt:2,textAlign:"center"},dangerouslySetInnerHTML:{__html:null==b?void 0:b.description}})),(0,Y.Y)(i.A,{size:6},(0,Y.Y)(a.A,null,(0,Y.Y)(y.N,{href:T,onClick:e=>{e.preventDefault(),(0,r.navigate)(T)},sx:{display:"flex",alignItems:"center",justifyContent:"start"}},"<",(0,Y.Y)(l.A,{variant:"body2",align:"left",sx:{ml:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},null==S?void 0:S.title.replace("<br />"," "))))),(0,Y.Y)(i.A,{size:6},(0,Y.Y)(a.A,null,(0,Y.Y)(y.N,{href:E,onClick:e=>{e.preventDefault(),(0,r.navigate)(E)},sx:{display:"flex",alignItems:"center",justifyContent:"end"}},(0,Y.Y)(l.A,{variant:"body2",align:"right",sx:{mr:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},null==A?void 0:A.title.replace("<br />"," ")),">"))),(0,Y.Y)(i.A,{size:12},(0,Y.Y)(a.A,{sx:{display:"flex",justifyContent:"center"}},(0,Y.Y)(y.N,{href:I,onClick:e=>{e.preventDefault(),(0,r.navigate)(I)}},(0,Y.Y)(l.A,{variant:"body2"},'Back to "',d?(0,x.zF)(d):"All",'"')))))))};const A=e=>{var t;let{pageContext:o}=e;const{slug:n}=o.work.frontmatter,r=k.N.findIndex((e=>{let{link:t}=e;return`/${t}`===n})),a=(null===(t=k.N[r])||void 0===t?void 0:t.title.replace("<br />"," "))||"";return(0,Y.Y)(C.G,{title:a})}}}]);
//# sourceMappingURL=component---src-templates-work-tsx-f32370e230e7023f3c8f.js.map