{"version":3,"file":"component---src-templates-work-tsx-1e2b296fd27ef4ea85e1.js","mappings":"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","sources":["webpack://yuheiono.com/./src/templates/work.tsx"],"sourcesContent":["import * as React from 'react';\nimport { navigate } from 'gatsby';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid2';\nimport Typography from '@mui/material/Typography';\nimport { Layout } from '../components/layout';\nimport { Link } from '../components/common/link';\nimport { Seo } from '../components/seo';\nimport { Navigation } from '../components/navigation';\nimport { isExistId, idToLabel } from '../libs/categories';\nimport { works } from '../libs/works';\n\ninterface IProps {\n  data: any;\n  pageContext: any;\n  location: any;\n}\n\nconst Work = (props: IProps): React.JSX.Element => {\n  const { pageContext } = props;\n\n  const [category, setCategory] = React.useState<string>('all');\n\n  const { html, frontmatter } = pageContext.work;\n  const { slug }: { slug: string } = frontmatter;\n\n  const _works = works.filter(work => {\n    if (category !== 'all') {\n      // カテゴリーが指定されている場合は一致するもののみ抽出\n      if (Array.isArray(work.category)) {\n        return work.category.includes(category);\n      } else {\n        return work.category === category;\n      }\n    } else {\n      // カテゴリ未指定時は全てのアイテムを返す\n      return true;\n    }\n  });\n\n  const currentIndex: number = _works.findIndex(\n    ({ link }) => `/${link}` === slug\n  );\n\n  const nextIndex: number = (currentIndex + 1) % _works.length;\n  const prevIndex: number =\n    currentIndex === 0 ? _works.length - 1 : currentIndex - 1;\n\n  const currentData = _works[currentIndex];\n  const nextData = _works[nextIndex];\n  const prevData = _works[prevIndex];\n\n  const prevLink: string = `/works/${prevData?.link}/${\n    category ? `?category=${category}` : ''\n  }`;\n  const nextLink: string = `/works/${nextData?.link}/${\n    category ? `?category=${category}` : ''\n  }`;\n  const categoryLink: string =\n    '/works/' + (category ? `?category=${category}` : '');\n\n  React.useEffect(() => {\n    const param: URLSearchParams = new URLSearchParams(props.location.search);\n    const category: string | null = param.get('category');\n    if (category && isExistId(category)) {\n      setCategory(category);\n    }\n  }, [props.location.search]);\n\n  return (\n    <Layout>\n      <Navigation />\n      <Box py={10}>\n        <Grid container justifyContent='center' spacing={4}>\n          {currentData?.creatives?.map((image: Creative, i: number) => {\n            // [NOTE]: GatsbyImage の圧縮により 1920:1918 のようなパターンが発生したため\n            // ポートレート判定に含みを持たせるため 1.1 と比較\n            // const isPortrait = image.width <= image.height;\n\n            const isVideo: boolean = image.type === 'video';\n            const isPortrait: boolean = image.width / image.height <= 1.1;\n            let floatWidth: string | number;\n            let floatHeight: string | number;\n\n            if (isVideo) {\n              floatWidth = isPortrait ? 320 : 640;\n              floatHeight = (floatWidth / image.width) * image.height;\n            } else {\n              floatWidth = isPortrait ? '50%' : '75%';\n              floatHeight = '100%';\n            }\n\n            return (\n              <Grid size={12} key={i}>\n                {isVideo ? (\n                  <Box\n                    display='flex'\n                    justifyContent='center'\n                    alignItems='center'\n                  >\n                    <video\n                      // @note iPhone Safari で動画再生前に何も表示されず真っ白になる問題の対応のため #t= を追加\n                      src={`https://cdn.yuheiono.com/videos/${image.name}#t=0.001`}\n                      width={floatWidth}\n                      height={floatHeight}\n                      autoPlay={false}\n                      disablePictureInPicture={true}\n                      controls={true}\n                      controlsList={[\n                        'nodownload',\n                        'nofullscreen',\n                        'noplaybackrate'\n                      ].join(' ')}\n                      onContextMenu={e => {\n                        e.preventDefault();\n                      }}\n                      style={{\n                        maxWidth: '100%',\n                        backgroundColor: '#ddd'\n                      }}\n                    />\n                  </Box>\n                ) : (\n                  <Box\n                    sx={{\n                      width: {\n                        md: floatWidth,\n                        sm: '100%',\n                        xs: '100%'\n                      },\n                      mx: 'auto',\n                      pointerEvents: 'none',\n                      userSelect: 'none'\n                    }}\n                    onClick={e => e.preventDefault()}\n                    onMouseDown={e => e.preventDefault()}\n                    onMouseUp={e => e.preventDefault()}\n                    onContextMenu={e => {\n                      e.preventDefault();\n                    }}\n                  >\n                    <img\n                      src={`https://cdn.yuheiono.com/images/${image.name}`}\n                      alt={image.name}\n                      width={image.width}\n                      height={image.height}\n                      style={{\n                        width: '100%',\n                        height: 'auto',\n                        backgroundColor: '#ddd',\n                        pointerEvents: 'none',\n                        userSelect: 'none'\n                      }}\n                    />\n                  </Box>\n                )}\n              </Grid>\n            );\n          })}\n          <Grid size={12} mb={4}>\n            <div dangerouslySetInnerHTML={{ __html: html }} />\n            <Typography\n              sx={{ letterSpacing: '0.25rem', textAlign: 'center' }}\n              dangerouslySetInnerHTML={{\n                __html: currentData?.title\n              }}\n            />\n            <Typography\n              sx={{ mt: 2, textAlign: 'center' }}\n              dangerouslySetInnerHTML={{\n                __html: currentData?.description\n              }}\n            />\n          </Grid>\n          <Grid size={12} mb={4}>\n            <Box display='flex' justifyContent='center'>\n              <Box\n                sx={{\n                  fontSize: 12,\n                  width: {\n                    md: 640,\n                    sm: 480,\n                    xs: 280\n                  }\n                }}\n              >\n                小野悠平／フォトグラファー・映像クリエイター\n                <br />\n                1990年、神戸市出身。インテリアカメラマンとして商品撮影に従事したのち独立。大阪,京都,兵庫など関西を拠点に全国でホテル撮影,旅館撮影を主軸に活動。建築撮影,モデル撮影,フード撮影,映像制作まで手掛ける。現在は宿泊施設に留まらず、飲食店やECサイト等からの依頼に幅広く対応。広告撮影をはじめ、SNS用撮影やショート動画制作にも力を入れている。\n              </Box>\n            </Box>\n          </Grid>\n          <Grid size={6}>\n            <Box>\n              <Link\n                href={prevLink}\n                onClick={e => {\n                  e.preventDefault();\n                  navigate(prevLink);\n                }}\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'start'\n                }}\n              >\n                &lt;\n                <Typography\n                  variant='body2'\n                  align='left'\n                  sx={{\n                    ml: 1,\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  }}\n                >\n                  {prevData?.title.replace('<br />', ' ')}\n                </Typography>\n              </Link>\n            </Box>\n          </Grid>\n          <Grid size={6}>\n            <Box>\n              <Link\n                href={nextLink}\n                onClick={e => {\n                  e.preventDefault();\n                  navigate(nextLink);\n                }}\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'end'\n                }}\n              >\n                <Typography\n                  variant='body2'\n                  align='right'\n                  sx={{\n                    mr: 1,\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  }}\n                >\n                  {nextData?.title.replace('<br />', ' ')}\n                </Typography>\n                &gt;\n              </Link>\n            </Box>\n          </Grid>\n          <Grid size={12}>\n            <Box\n              sx={{\n                display: 'flex',\n                justifyContent: 'center'\n              }}\n            >\n              <Link\n                href={categoryLink}\n                onClick={e => {\n                  e.preventDefault();\n                  navigate(categoryLink);\n                }}\n              >\n                <Typography variant='body2'>\n                  Back to \"{category ? idToLabel(category) : 'All'}\"\n                </Typography>\n              </Link>\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Layout>\n  );\n};\n\nexport default Work;\n\nexport const Head = ({\n  pageContext\n}: {\n  pageContext: any;\n}): React.JSX.Element => {\n  const { slug }: { slug: string } = pageContext.work.frontmatter;\n\n  const currentIndex: number = works.findIndex(\n    ({ link }: { link: string }): boolean => `/${link}` === slug\n  );\n\n  const title: string = works[currentIndex]?.title.replace('<br />', ' ') || '';\n\n  return <Seo title={title} />;\n};\n"],"names":["props","_currentData$creative","pageContext","category","setCategory","React","html","frontmatter","work","slug","_works","works","filter","Array","isArray","includes","currentIndex","findIndex","_ref","link","nextIndex","length","prevIndex","currentData","nextData","prevData","prevLink","nextLink","categoryLink","URLSearchParams","location","search","get","isExistId","___EmotionJSX","Layout","Navigation","Box","py","Grid","container","justifyContent","spacing","creatives","map","image","i","isVideo","type","isPortrait","width","height","floatWidth","floatHeight","size","key","display","alignItems","src","name","autoPlay","disablePictureInPicture","controls","controlsList","join","onContextMenu","e","preventDefault","style","maxWidth","backgroundColor","sx","md","sm","xs","mx","pointerEvents","userSelect","onClick","onMouseDown","onMouseUp","alt","mb","dangerouslySetInnerHTML","__html","Typography","letterSpacing","textAlign","title","mt","description","fontSize","Link","href","navigate","variant","align","ml","overflow","textOverflow","whiteSpace","replace","mr","idToLabel","Head","_ref2","_works$currentIndex","_ref3","Seo"],"sourceRoot":""}