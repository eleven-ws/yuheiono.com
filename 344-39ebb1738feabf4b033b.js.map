{"version":3,"file":"344-39ebb1738feabf4b033b.js","mappings":"sLAAWA,EAAO,WAAc,EAmBzB,IAAIC,EAA8B,oBAAXC,OCjB1BC,EAAgBF,EAAYC,OAAS,KACrCE,EAAkB,SAAUC,GAC5B,QAASA,EAAOC,gBACpB,EACIC,EAAkB,SAAUF,GAC5B,QAASA,EAAOG,EACpB,EA0BA,EAzBe,SAAUC,EAAMC,EAASL,EAAQM,QAC7B,IAAXN,IAAqBA,EAASF,IAClC,IAAAS,YAAU,WACN,GAAKF,GAGAL,EASL,OANID,EAAgBC,GDjBrB,SAAYQ,GAEf,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IACpCD,EAAKC,EAAK,GAAKC,UAAUD,GAEzBF,GAAOA,EAAIP,kBACXO,EAAIP,iBAAiBY,MAAML,EAAKC,EAExC,CCUYN,CAAGH,EAAQI,EAAMC,EAASC,GAErBJ,EAAgBF,IACrBA,EAAOG,GAAGC,EAAMC,EAASC,GAEtB,WACCP,EAAgBC,GDfzB,SAAaQ,GAEhB,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IACpCD,EAAKC,EAAK,GAAKC,UAAUD,GAEzBF,GAAOA,EAAIM,qBACXN,EAAIM,oBAAoBD,MAAML,EAAKC,EAE3C,CCQgBM,CAAIf,EAAQI,EAAMC,EAASC,GAEtBJ,EAAgBF,IACrBA,EAAOe,IAAIX,EAAMC,EAASC,EAElC,CACJ,GAAG,CAACF,EAAMC,EAASL,EAAQgB,KAAKC,UAAUX,IAC9C,ECLA,EAhBa,SAAUY,EAAKC,EAAIC,EAAMC,QACvB,IAAPF,IAAiBA,EAAKxB,QACb,IAATyB,IAAmBA,EAAO,CAAC,QAClB,IAATC,IAAmBA,EAAO,CAACH,IAC/B,IAAII,EAAKF,EAAKG,MAAOA,OAAe,IAAPD,EAAgB,UAAYA,EAAItB,EAASoB,EAAKpB,OAAQM,EAAUc,EAAKd,QAC9FkB,GAAiB,IAAAC,UAAQ,WACzB,IAf2BC,EAevBC,EAdoB,mBADGD,EAeQR,GAbjCQ,EACqB,iBAAdA,EACH,SAAUH,GAAS,OAAOA,EAAML,MAAQQ,CAAW,EACnDA,EACI,WAAc,OAAO,CAAM,EAC3B,WAAc,OAAO,CAAO,EActC,OALc,SAAUE,GACpB,GAAID,EAAUC,GACV,OAAOT,EAAGS,EAElB,CAEJ,GAAGP,GACH,EAASE,EAAOC,EAAgBxB,EAAQM,EAC5C,ECzBA,MAAMuB,EAAO,OACPC,EAAQ,QACRC,EAAK,KACLC,EAAO,OAGPC,EAAe,CACjBC,MAAO,GACPC,sBAAsB,EACtBC,cAAe,EACfC,YAAY,EACZC,YAAY,EACZC,cAAeC,IACfC,kBAAmB,CAAEC,SAAS,IAE5BC,EAAe,CACjBC,OAAO,EACPC,QAAS,CAAC,EAAG,GACbC,MAAO,EACPC,SAAS,EACTC,GAAI,CAAC,EAAG,IAENC,EAAY,YACZC,EAAU,UACVC,EAAW,WACXC,EAAY,YACZC,EAAa,aAanB,SAASC,EAAgBC,EAAKC,GAC1B,GAAc,IAAVA,EACA,OAAOD,EACX,MAAME,EAAkBC,KAAKC,GAAK,IAAOH,EAGzC,MAAO,CAFGD,EAAI,GAAKG,KAAKE,IAAIH,GAAkBF,EAAI,GAAKG,KAAKG,IAAIJ,GACtDF,EAAI,GAAKG,KAAKE,IAAIH,GAAkBF,EAAI,GAAKG,KAAKG,IAAIJ,GAEpE,CACA,SAASK,EAAYC,EAAKC,GACtB,MAAMC,EAAW1C,IACb,MAAM2C,EAAU,YAAa3C,EAEzB2C,GAAW3C,EAAM4C,QAAQvD,OAAS,GAEtCmD,GAAI,CAACK,EAAOC,KAEJA,EAAMhC,aAAe6B,IACrBI,SAASrE,iBAAiBgD,EAAWsB,GACrCD,SAASrE,iBAAiBiD,EAASsB,IAEvC,MAAM,QAAEC,EAAO,QAAEC,GAAYR,EAAU3C,EAAM4C,QAAQ,GAAK5C,EACpDyB,EAAKM,EAAgB,CAACmB,EAASC,GAAUL,EAAMjC,eAGrD,OAFAiC,EAAMM,2BACFN,EAAMM,0BAA0B,CAAEpD,UAC/BqD,OAAOC,OAAOD,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQzB,GAAe,CAAEE,QAASG,EAAG8B,QAAS9B,KAAIF,MAAOvB,EAAMwD,WAAa,GAAI,GACvI,EAEAR,EAAUhD,IACZwC,GAAI,CAACK,EAAOC,KACR,MAAMH,EAAU,YAAa3C,EAG7B,GAAI2C,GAAW3C,EAAM4C,QAAQvD,OAAS,EAClC,OAAOwD,EAGX,GAAI7C,EAAMwD,UAAYX,EAAMtB,MAAQuB,EAAM9B,cACtC,OAAO6B,EAAMrB,QAAU6B,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQ,CAAErB,SAAS,IAAWqB,EAEzF,MAAM,QAAEK,EAAO,QAAEC,GAAYR,EAAU3C,EAAM4C,QAAQ,GAAK5C,GACnDyD,EAAGC,GAAK3B,EAAgB,CAACmB,EAASC,GAAUL,EAAMjC,eACnD8C,EAASF,EAAIZ,EAAMpB,GAAG,GACtBmC,EAASF,EAAIb,EAAMpB,GAAG,GACtBoC,EAAO1B,KAAK2B,IAAIH,GAChBI,EAAO5B,KAAK2B,IAAIF,GAChBI,GAAQhE,EAAMwD,WAAa,GAAKX,EAAMtB,MACtC0C,EAAW9B,KAAK+B,KAAKL,EAAOA,EAAOE,EAAOA,IAASC,GAAQ,GAC3DG,EAAO,CAACR,GAAUK,GAAQ,GAAIJ,GAAUI,GAAQ,IAChDI,EA5DlB,SAAsBP,EAAME,EAAMJ,EAAQC,GACtC,OAAIC,EAAOE,EACHJ,EAAS,EACFpD,EAEJD,EAEFsD,EAAS,EACPnD,EAEJD,CACX,CAiDwB6D,CAAaR,EAAME,EAAMJ,EAAQC,GAEvCjD,EAA+B,iBAAhBmC,EAAMnC,MACrBmC,EAAMnC,MACNmC,EAAMnC,MAAMyD,EAAIE,gBACd5D,EAAaC,MACrB,GAAIkD,EAAOlD,GAASoD,EAAOpD,IAAUkC,EAAMrB,QACvC,OAAOqB,EACX,MAAM0B,EAAY,CACdV,OACAE,OACAJ,SACAC,SACAQ,MACApE,QACAqB,MAAOwB,EAAMxB,MACbC,QAASuB,EAAMvB,QACf2C,WACAE,QAGJI,EAAUlD,OAASyB,EAAM0B,cAAgB1B,EAAM0B,aAAaD,GAE5DzB,EAAM2B,WAAa3B,EAAM2B,UAAUF,GAGnC,IAAIG,GAAsB,EAY1B,OAXI5B,EAAM2B,WACN3B,EAAM6B,UACN7B,EAAM,WAAWsB,QACjBM,GAAsB,GAEtBA,GACA5B,EAAMlC,sBACNkC,EAAM/B,YACNf,EAAM4E,YACN5E,EAAM6E,iBAEHxB,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQ,CAE3CxB,OAAO,EAAOkD,YAAW/C,SAAS,GAAO,GAC/C,EAEAsD,EAAS9E,IACXwC,GAAI,CAACK,EAAOC,KACR,IAAIyB,EACJ,GAAI1B,EAAMrB,SAAWqB,EAAM0B,WAEvB,GAAIvE,EAAMwD,UAAYX,EAAMtB,MAAQuB,EAAM9B,cAAe,CACrDuD,EAAYlB,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,EAAM0B,WAAY,CAAEvE,UAChE8C,EAAM6B,UAAY7B,EAAM6B,SAASJ,GACjC,MAAMQ,EAAcjC,EAAM,WAAWyB,EAAUH,OAC/CW,GAAeA,EAAYR,EAC/B,OAGAzB,EAAMkC,OAASlC,EAAMkC,MAAM,CAAEhF,UAGjC,OADA8C,EAAMmC,uBAAyBnC,EAAMmC,sBAAsB,CAAEjF,UACtDqD,OAAOC,OAAOD,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQzB,GAAe,CAAEmD,aAAY,GAC5F,EAOAtB,EAAQiC,IAHVnC,SAASxD,oBAAoBmC,EAAWsB,GACxCD,SAASxD,oBAAoBoC,EAASsB,GAItC6B,EAAMI,EAAE,EAcNC,EAAc,CAACC,EAAItC,KACrB,IAAIuC,EAAU,OACd,GAAID,GAAMA,EAAG1G,iBAAkB,CAC3B,MAAM4G,EAAcjC,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAG5C,EAAaQ,mBAAoB4B,EAAM5B,mBAErFqE,EAAM,CACR,CAACzD,EAAYY,EAAS4C,GAEtB,CACIzD,EACAmB,EACAK,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGgC,GAAexC,EAAMlC,qBAAuB,CAAEO,SAAS,GAAU,CAAC,IAEtG,CAACS,EAAUkD,EAAOQ,IAEtBC,EAAIC,SAAQ,EAAEN,EAAGO,EAAGC,KAAON,EAAG1G,iBAAiBwG,EAAGO,EAAGC,KAErDL,EAAU,IAAME,EAAIC,SAAQ,EAAEN,EAAGO,KAAOL,EAAG7F,oBAAoB2F,EAAGO,IACtE,CACA,OAAOJ,CAAO,EA0BZM,EAAS,CACXC,IAzBWR,IAGA,OAAPA,GAEJ5C,GAAI,CAACK,EAAOC,KAER,GAAID,EAAMuC,KAAOA,EACb,OAAOvC,EACX,MAAMgD,EAAW,CAAC,EAWlB,OATIhD,EAAMuC,IAAMvC,EAAMuC,KAAOA,GAAMvC,EAAMiD,eACrCjD,EAAMiD,eACND,EAASC,kBAAe,GAGxBhD,EAAM/B,YAAcqE,IACpBS,EAASC,aAAeX,EAAYC,EAAItC,IAGrCO,OAAOC,OAAOD,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQ,CAAEuC,OAAOS,EAAS,GACjF,GAUN,OAHIpD,EAAa3B,aACb6E,EAAOI,YAAcrD,GAElB,CAACiD,EAAQR,EACpB,CAuBA,SAASa,EAAajH,GAClB,MAAM,WAAE+B,GAAe/B,EACjBkH,EAAiB,SAAa5C,OAAOC,OAAO,CAAC,EAAGlC,IAChD8E,EAAiB,SAAa7C,OAAOC,OAAO,CAAC,EAAG5C,IAEhDyF,EAAgB,SAAa9C,OAAOC,OAAO,CAAC,EAAG4C,EAAeE,UAKpE,IAAIC,EACJ,IAAKA,KALLF,EAAcC,QAAU/C,OAAOC,OAAO,CAAC,EAAG4C,EAAeE,SAEzDF,EAAeE,QAAU/C,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAG5C,GAAe3B,GAGrD2B,OAC4B,IAAvCwF,EAAeE,QAAQC,KACvBH,EAAeE,QAAQC,GAAc3F,EAAa2F,IAG1D,MAAOC,EAAUnB,GAAe,WAAc,IAAM5C,GAAagE,GAAiBN,EAAeG,QAAUG,EAAYN,EAAeG,QAASF,EAAeE,UAAW,CAAEtF,gBAAe,CAACA,IAE3L,OADAmF,EAAeG,QAvCnB,SAA8BvD,EAAOC,EAAOqD,EAAehB,GAEvD,OAAKrC,EAAM/B,YAAe8B,EAAMuC,GAO3BvC,EAAMiD,aAMPhD,EAAMlC,uBAAyBuF,EAAcvF,sBAC7CkC,EAAM5B,kBAAkBC,UAAYgF,EAAcjF,kBAAkBC,SACpE0B,EAAMiD,eACCzC,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQ,CAAEiD,aAAcX,EAAYtC,EAAMuC,GAAItC,MAElFD,EAVIQ,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQ,CAAEiD,aAAcX,EAAYtC,EAAMuC,GAAItC,MAPjFD,EAAMiD,cACNjD,EAAMiD,eAEHzC,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGT,GAAQ,CAAEiD,kBAAcU,IAevE,CAkB6BC,CAAqBR,EAAeG,QAASF,EAAeE,QAASD,EAAcC,QAASjB,GAC9GmB,CACX,C,2CC3DA,MAzMmBI,IACjB,MAAMC,EAAMD,EAAKE,OAAOC,MAElBC,EAAeC,EAAAA,OAAa,OAC3BC,EAAcC,GAAmBF,EAAAA,YACjCX,EAASc,GAAcH,EAAAA,SAC5B5E,KAAKgF,MAAMhF,KAAKiF,SAAWT,EAAItH,UAE1BgI,EAASC,GAAcP,EAAAA,SAAe,GACvCQ,EAAgBR,EAAAA,QAAa,GAC7BS,EAAqB,IACrBC,EAAc,KAEdC,EAAQC,GAAQ,IAAIC,SAAQC,GAAWC,WAAWD,EAASF,KAI3DI,EAAOA,IAAMb,GAAWd,IAAYA,EAAU,GAAKO,EAAItH,SAEvD2I,EAAeC,UACfV,EAAcnB,UAElBkB,EAAW,SAELI,EAAMF,GACRD,EAAcnB,UAElB2B,IACAT,EAAW,SAELI,EAAMF,GACRD,EAAcnB,gBAEZsB,EAAMD,GACRF,EAAcnB,SAElB4B,MAAc,EAGVE,EAAcD,UAA+B,IAAxB,OAAEE,GAAS,GAAOC,EACvCb,EAAcnB,UAClBmB,EAAcnB,SAAU,EAExBkB,EAAW,SACLI,EAAMF,GACZW,EA7BAjB,GAAWd,IAAYA,EAAU,EAAIO,EAAItH,QAAUsH,EAAItH,SA6BrC0I,IAClBT,EAAW,SAELI,EAAMF,KACZD,EAAcnB,SAAU,QAClBsB,EAAMF,KACRD,EAAcnB,SAEdmB,EAAcnB,gBACZsB,EAAMD,GACRF,EAAcnB,SAElB4B,KAAc,EAGVK,EAAkBJ,eAAkBC,EAAY,CAAEC,QAAQ,IAC1DG,EAAkBL,eAAkBC,EAAY,CAAEC,QAAQ,IAEhEI,EAAO,YAAaF,GACpBE,EAAO,UAAWF,GAClBE,EAAO,aAAcD,GACrBC,EAAO,YAAaD,GAEpB,MAAMhC,EAAWN,EAAa,CAC5BwC,cAAeA,IAAMH,IACrBI,aAAcA,IAAMH,MAGtBvB,EAAAA,WAAgB,KACJkB,WACRX,EAAW,GACXC,EAAcnB,SAAU,EACxB4B,UACMN,EAAMF,KAAiC,EAG/CkB,EAAG,GACF,IAEH3B,EAAAA,WAAgB,KACd,MAUM4B,EAAqBA,KACzB1B,EAAgBlE,SAAS6F,gBAAgB5B,aAAa,EASxD,OANA1I,OAAOI,iBAAiB,SAAUiK,GAClCrK,OAAOI,iBAAiB,OAAQiK,GAEhCA,IAjBeE,MACb,MAAM,MAAEC,EAAK,OAAEC,IAAWC,EAAAA,EAAAA,GAASrC,EAAIP,GAAS6C,MAK1CC,GAAYlC,EAAe,MAHb8B,EAAQC,GAI5BjC,EAAaV,QAAQ+C,MAAML,MAAQI,EAAW,IAAI,EAWpDL,GAEO,KACLvK,OAAOiB,oBAAoB,SAAUoJ,GACrCrK,OAAOiB,oBAAoB,OAAQoJ,EAAmB,CACvD,GACA,CAAChC,EAAKP,EAASY,IAElB,MAAO,CAAEoC,GAASzC,EAAIP,GAAS6C,KAAKI,aAAaC,MAG/C,8BAGF,OACEC,EAAAA,EAAAA,GAACC,EAAAA,EAAG,CACFC,UAAU,UACVC,GAAI,CACFC,SAAU,WACVC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZhB,MAAO,OACPiB,GAAI,GACJhB,OAAQ,sBAERA,OAAQ,0BAGVQ,EAAAA,EAAAA,GAACC,EAAAA,EAAG,CACF5D,IAAKkB,EACL4C,GAAI,CACFC,SAAU,WACVZ,OAAQ,OACRiB,SAAU,YAGZT,EAAAA,EAAAA,GAACC,EAAAA,GAAGS,EAAAA,EAAAA,GAAA,GACE3D,EAAQ,CACZoD,GAAI,CACFE,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZH,SAAU,WACVO,IAAK,EACLC,KAAM,EACNrB,MAAO,OACPC,OAAQ,OACRqB,OAAQ,EACRC,mBAAoB,UACpBC,yBAA0B,WAC1B9C,mBAAoB,SACpBH,cAGFkC,EAAAA,EAAAA,GAACgB,EAAAA,EAAI,CAACC,KAAM,UAAUpB,OACpBG,EAAAA,EAAAA,GAACkB,EAAAA,EAAW,CACVC,OAAO1B,EAAAA,EAAAA,GAASrC,EAAIP,GAAS6C,MAC7B0B,IAAI,YACJC,OAAO,YACPC,YAAY,UACZ1B,MAAO,CACL2B,cAAe,OACfC,WAAY,aAKpBxB,EAAAA,EAAAA,GAACC,EAAAA,EAAG,CACFE,GAAI,CACFE,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZH,SAAU,WACVO,IAAK,EACLC,KAAM,EACNrB,MAAO,OACPC,OAAQ,OACRqB,QAAS,KAGXb,EAAAA,EAAAA,GAACkB,EAAAA,EAAW,CACVC,OAAO1B,EAAAA,EAAAA,GAASrC,GAAKP,EAAU,GAAKO,EAAItH,QAAQ4J,MAChD0B,IAAI,UACJC,OAAO,YACPzB,MAAO,CACL9B,QAAS,EACT2D,WAAY,SACZF,cAAe,OACfC,WAAY,YAKhB,C","sources":["webpack://yuheiono.com/../../node_modules/react-use/esm/misc/util.js","webpack://yuheiono.com/../../node_modules/react-use/esm/useEvent.js","webpack://yuheiono.com/../../node_modules/react-use/esm/useKey.js","webpack://yuheiono.com/../../node_modules/react-swipeable/es/index.js","webpack://yuheiono.com/./src/components/mainvisual.jsx"],"sourcesContent":["export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nvar defaultTarget = isBrowser ? window : null;\nvar isListenerType1 = function (target) {\n    return !!target.addEventListener;\n};\nvar isListenerType2 = function (target) {\n    return !!target.on;\n};\nvar useEvent = function (name, handler, target, options) {\n    if (target === void 0) { target = defaultTarget; }\n    useEffect(function () {\n        if (!handler) {\n            return;\n        }\n        if (!target) {\n            return;\n        }\n        if (isListenerType1(target)) {\n            on(target, name, handler, options);\n        }\n        else if (isListenerType2(target)) {\n            target.on(name, handler, options);\n        }\n        return function () {\n            if (isListenerType1(target)) {\n                off(target, name, handler, options);\n            }\n            else if (isListenerType2(target)) {\n                target.off(name, handler, options);\n            }\n        };\n    }, [name, handler, target, JSON.stringify(options)]);\n};\nexport default useEvent;\n","import { useMemo } from 'react';\nimport useEvent from './useEvent';\nimport { noop } from './misc/util';\nvar createKeyPredicate = function (keyFilter) {\n    return typeof keyFilter === 'function'\n        ? keyFilter\n        : typeof keyFilter === 'string'\n            ? function (event) { return event.key === keyFilter; }\n            : keyFilter\n                ? function () { return true; }\n                : function () { return false; };\n};\nvar useKey = function (key, fn, opts, deps) {\n    if (fn === void 0) { fn = noop; }\n    if (opts === void 0) { opts = {}; }\n    if (deps === void 0) { deps = [key]; }\n    var _a = opts.event, event = _a === void 0 ? 'keydown' : _a, target = opts.target, options = opts.options;\n    var useMemoHandler = useMemo(function () {\n        var predicate = createKeyPredicate(key);\n        var handler = function (handlerEvent) {\n            if (predicate(handlerEvent)) {\n                return fn(handlerEvent);\n            }\n        };\n        return handler;\n    }, deps);\n    useEvent(event, useMemoHandler, target, options);\n};\nexport default useKey;\n","import * as React from 'react';\n\nconst LEFT = \"Left\";\nconst RIGHT = \"Right\";\nconst UP = \"Up\";\nconst DOWN = \"Down\";\n\n/* global document */\nconst defaultProps = {\n    delta: 10,\n    preventScrollOnSwipe: false,\n    rotationAngle: 0,\n    trackMouse: false,\n    trackTouch: true,\n    swipeDuration: Infinity,\n    touchEventOptions: { passive: true },\n};\nconst initialState = {\n    first: true,\n    initial: [0, 0],\n    start: 0,\n    swiping: false,\n    xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\nfunction getDirection(absX, absY, deltaX, deltaY) {\n    if (absX > absY) {\n        if (deltaX > 0) {\n            return RIGHT;\n        }\n        return LEFT;\n    }\n    else if (deltaY > 0) {\n        return DOWN;\n    }\n    return UP;\n}\nfunction rotateXYByAngle(pos, angle) {\n    if (angle === 0)\n        return pos;\n    const angleInRadians = (Math.PI / 180) * angle;\n    const x = pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n    const y = pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n    return [x, y];\n}\nfunction getHandlers(set, handlerProps) {\n    const onStart = (event) => {\n        const isTouch = \"touches\" in event;\n        // if more than a single touch don't track, for now...\n        if (isTouch && event.touches.length > 1)\n            return;\n        set((state, props) => {\n            // setup mouse listeners on document to track swipe since swipe can leave container\n            if (props.trackMouse && !isTouch) {\n                document.addEventListener(mouseMove, onMove);\n                document.addEventListener(mouseUp, onUp);\n            }\n            const { clientX, clientY } = isTouch ? event.touches[0] : event;\n            const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n            props.onTouchStartOrOnMouseDown &&\n                props.onTouchStartOrOnMouseDown({ event });\n            return Object.assign(Object.assign(Object.assign({}, state), initialState), { initial: xy.slice(), xy, start: event.timeStamp || 0 });\n        });\n    };\n    const onMove = (event) => {\n        set((state, props) => {\n            const isTouch = \"touches\" in event;\n            // Discount a swipe if additional touches are present after\n            // a swipe has started.\n            if (isTouch && event.touches.length > 1) {\n                return state;\n            }\n            // if swipe has exceeded duration stop tracking\n            if (event.timeStamp - state.start > props.swipeDuration) {\n                return state.swiping ? Object.assign(Object.assign({}, state), { swiping: false }) : state;\n            }\n            const { clientX, clientY } = isTouch ? event.touches[0] : event;\n            const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n            const deltaX = x - state.xy[0];\n            const deltaY = y - state.xy[1];\n            const absX = Math.abs(deltaX);\n            const absY = Math.abs(deltaY);\n            const time = (event.timeStamp || 0) - state.start;\n            const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n            const vxvy = [deltaX / (time || 1), deltaY / (time || 1)];\n            const dir = getDirection(absX, absY, deltaX, deltaY);\n            // if swipe is under delta and we have not started to track a swipe: skip update\n            const delta = typeof props.delta === \"number\"\n                ? props.delta\n                : props.delta[dir.toLowerCase()] ||\n                    defaultProps.delta;\n            if (absX < delta && absY < delta && !state.swiping)\n                return state;\n            const eventData = {\n                absX,\n                absY,\n                deltaX,\n                deltaY,\n                dir,\n                event,\n                first: state.first,\n                initial: state.initial,\n                velocity,\n                vxvy,\n            };\n            // call onSwipeStart if present and is first swipe event\n            eventData.first && props.onSwipeStart && props.onSwipeStart(eventData);\n            // call onSwiping if present\n            props.onSwiping && props.onSwiping(eventData);\n            // track if a swipe is cancelable (handler for swiping or swiped(dir) exists)\n            // so we can call preventDefault if needed\n            let cancelablePageSwipe = false;\n            if (props.onSwiping ||\n                props.onSwiped ||\n                props[`onSwiped${dir}`]) {\n                cancelablePageSwipe = true;\n            }\n            if (cancelablePageSwipe &&\n                props.preventScrollOnSwipe &&\n                props.trackTouch &&\n                event.cancelable) {\n                event.preventDefault();\n            }\n            return Object.assign(Object.assign({}, state), { \n                // first is now always false\n                first: false, eventData, swiping: true });\n        });\n    };\n    const onEnd = (event) => {\n        set((state, props) => {\n            let eventData;\n            if (state.swiping && state.eventData) {\n                // if swipe is less than duration fire swiped callbacks\n                if (event.timeStamp - state.start < props.swipeDuration) {\n                    eventData = Object.assign(Object.assign({}, state.eventData), { event });\n                    props.onSwiped && props.onSwiped(eventData);\n                    const onSwipedDir = props[`onSwiped${eventData.dir}`];\n                    onSwipedDir && onSwipedDir(eventData);\n                }\n            }\n            else {\n                props.onTap && props.onTap({ event });\n            }\n            props.onTouchEndOrOnMouseUp && props.onTouchEndOrOnMouseUp({ event });\n            return Object.assign(Object.assign(Object.assign({}, state), initialState), { eventData });\n        });\n    };\n    const cleanUpMouse = () => {\n        // safe to just call removeEventListener\n        document.removeEventListener(mouseMove, onMove);\n        document.removeEventListener(mouseUp, onUp);\n    };\n    const onUp = (e) => {\n        cleanUpMouse();\n        onEnd(e);\n    };\n    /**\n     * The value of passive on touchMove depends on `preventScrollOnSwipe`:\n     * - true => { passive: false }\n     * - false => { passive: true } // Default\n     *\n     * NOTE: When preventScrollOnSwipe is true, we attempt to call preventDefault to prevent scroll.\n     *\n     * props.touchEventOptions can also be set for all touch event listeners,\n     * but for `touchmove` specifically when `preventScrollOnSwipe` it will\n     * supersede and force passive to false.\n     *\n     */\n    const attachTouch = (el, props) => {\n        let cleanup = () => { };\n        if (el && el.addEventListener) {\n            const baseOptions = Object.assign(Object.assign({}, defaultProps.touchEventOptions), props.touchEventOptions);\n            // attach touch event listeners and handlers\n            const tls = [\n                [touchStart, onStart, baseOptions],\n                // preventScrollOnSwipe option supersedes touchEventOptions.passive\n                [\n                    touchMove,\n                    onMove,\n                    Object.assign(Object.assign({}, baseOptions), (props.preventScrollOnSwipe ? { passive: false } : {})),\n                ],\n                [touchEnd, onEnd, baseOptions],\n            ];\n            tls.forEach(([e, h, o]) => el.addEventListener(e, h, o));\n            // return properly scoped cleanup method for removing listeners, options not required\n            cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n        }\n        return cleanup;\n    };\n    const onRef = (el) => {\n        // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n        // ignore null here\n        if (el === null)\n            return;\n        set((state, props) => {\n            // if the same DOM el as previous just return state\n            if (state.el === el)\n                return state;\n            const addState = {};\n            // if new DOM el clean up old DOM and reset cleanUpTouch\n            if (state.el && state.el !== el && state.cleanUpTouch) {\n                state.cleanUpTouch();\n                addState.cleanUpTouch = void 0;\n            }\n            // only attach if we want to track touch\n            if (props.trackTouch && el) {\n                addState.cleanUpTouch = attachTouch(el, props);\n            }\n            // store event attached DOM el for comparison, clean up, and re-attachment\n            return Object.assign(Object.assign(Object.assign({}, state), { el }), addState);\n        });\n    };\n    // set ref callback to attach touch event listeners\n    const output = {\n        ref: onRef,\n    };\n    // if track mouse attach mouse down listener\n    if (handlerProps.trackMouse) {\n        output.onMouseDown = onStart;\n    }\n    return [output, attachTouch];\n}\nfunction updateTransientState(state, props, previousProps, attachTouch) {\n    // if trackTouch is off or there is no el, then remove handlers if necessary and exit\n    if (!props.trackTouch || !state.el) {\n        if (state.cleanUpTouch) {\n            state.cleanUpTouch();\n        }\n        return Object.assign(Object.assign({}, state), { cleanUpTouch: undefined });\n    }\n    // trackTouch is on, so if there are no handlers attached, attach them and exit\n    if (!state.cleanUpTouch) {\n        return Object.assign(Object.assign({}, state), { cleanUpTouch: attachTouch(state.el, props) });\n    }\n    // trackTouch is on and handlers are already attached, so if preventScrollOnSwipe changes value,\n    // remove and reattach handlers (this is required to update the passive option when attaching\n    // the handlers)\n    if (props.preventScrollOnSwipe !== previousProps.preventScrollOnSwipe ||\n        props.touchEventOptions.passive !== previousProps.touchEventOptions.passive) {\n        state.cleanUpTouch();\n        return Object.assign(Object.assign({}, state), { cleanUpTouch: attachTouch(state.el, props) });\n    }\n    return state;\n}\nfunction useSwipeable(options) {\n    const { trackMouse } = options;\n    const transientState = React.useRef(Object.assign({}, initialState));\n    const transientProps = React.useRef(Object.assign({}, defaultProps));\n    // track previous rendered props\n    const previousProps = React.useRef(Object.assign({}, transientProps.current));\n    previousProps.current = Object.assign({}, transientProps.current);\n    // update current render props & defaults\n    transientProps.current = Object.assign(Object.assign({}, defaultProps), options);\n    // Force defaults for config properties\n    let defaultKey;\n    for (defaultKey in defaultProps) {\n        if (transientProps.current[defaultKey] === void 0) {\n            transientProps.current[defaultKey] = defaultProps[defaultKey];\n        }\n    }\n    const [handlers, attachTouch] = React.useMemo(() => getHandlers((stateSetter) => (transientState.current = stateSetter(transientState.current, transientProps.current)), { trackMouse }), [trackMouse]);\n    transientState.current = updateTransientState(transientState.current, transientProps.current, previousProps.current, attachTouch);\n    return handlers;\n}\n\nexport { DOWN, LEFT, RIGHT, UP, useSwipeable };\n//# sourceMappingURL=index.js.map\n","import * as React from 'react';\nimport { useKey } from 'react-use';\nimport { useSwipeable } from 'react-swipeable';\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image';\nimport Box from '@mui/material/Box';\nimport { Link } from './common/link';\n\nconst Mainvisual = data => {\n  const img = data.images.edges;\n\n  const containerRef = React.useRef(null);\n  const [clientHeight, setClientHeight] = React.useState();\n  const [current, setCurrent] = React.useState(\n    Math.floor(Math.random() * img.length)\n  );\n  const [opacity, setOpacity] = React.useState(0);\n  const isLockRequest = React.useRef(true);\n  const transitionDuration = 1000;\n  const showingTime = 3500;\n\n  const sleep = msec => new Promise(resolve => setTimeout(resolve, msec));\n\n  const prev = () =>\n    setCurrent(current => (current - 1 + img.length) % img.length);\n  const next = () => setCurrent(current => (current + 1) % img.length);\n\n  const autoShowNext = async () => {\n    if (isLockRequest.current) return;\n\n    setOpacity(0);\n\n    await sleep(transitionDuration);\n    if (isLockRequest.current) return;\n\n    next();\n    setOpacity(1);\n\n    await sleep(transitionDuration);\n    if (isLockRequest.current) return;\n\n    await sleep(showingTime);\n    if (isLockRequest.current) return;\n\n    autoShowNext();\n  };\n\n  const requestShow = async ({ isPrev = false }) => {\n    if (isLockRequest.current) return;\n    isLockRequest.current = true;\n\n    setOpacity(0);\n    await sleep(transitionDuration);\n    isPrev ? prev() : next();\n    setOpacity(1);\n\n    await sleep(transitionDuration / 2);\n    isLockRequest.current = false;\n    await sleep(transitionDuration / 2);\n    if (isLockRequest.current) return;\n\n    if (isLockRequest.current) return;\n    await sleep(showingTime);\n    if (isLockRequest.current) return;\n\n    autoShowNext();\n  };\n\n  const requestShowPrev = async () => await requestShow({ isPrev: true });\n  const requestShowNext = async () => await requestShow({ isPrev: false });\n\n  useKey('ArrowLeft', requestShowPrev);\n  useKey('ArrowUp', requestShowPrev);\n  useKey('ArrowRight', requestShowNext);\n  useKey('ArrowDown', requestShowNext);\n\n  const handlers = useSwipeable({\n    onSwipedRight: () => requestShowPrev(),\n    onSwipedLeft: () => requestShowNext()\n  });\n\n  React.useEffect(() => {\n    const f = async () => {\n      setOpacity(1);\n      isLockRequest.current = false;\n      autoShowNext();\n      await sleep(transitionDuration + showingTime);\n    };\n\n    f();\n  }, []);\n\n  React.useEffect(() => {\n    const update = () => {\n      const { width, height } = getImage(img[current].node);\n\n      const aspectRatio = width / height;\n\n      // ヘッダーの2倍を引き適切なアスペクト比に\n      const newWidth = (clientHeight - 160) * aspectRatio;\n      containerRef.current.style.width = newWidth + 'px';\n    };\n\n    const updateClientHeight = () => {\n      setClientHeight(document.documentElement.clientHeight);\n    };\n\n    window.addEventListener('resize', updateClientHeight);\n    window.addEventListener('load', updateClientHeight);\n\n    updateClientHeight();\n    update();\n\n    return () => {\n      window.removeEventListener('resize', updateClientHeight);\n      window.removeEventListener('load', updateClientHeight);\n    };\n  }, [img, current, clientHeight]);\n\n  const [, _link] = img[current].node.relativePath.match(\n    // @NOTE 2023.06.11 順番を柔軟に変更するためファイル名チェックを外す\n    // /^mainvisuals\\/\\d{2}_(.+)\\.(.+)$/\n    /^mainvisuals\\/.+_(.+)\\..+$/\n  );\n\n  return (\n    <Box\n      component='section'\n      sx={{\n        position: 'relative',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100%',\n        mt: 10,\n        height: 'calc(100vh - 160px)',\n        // eslint-disable-next-line no-dupe-keys\n        height: 'calc(100dvh - 160px)'\n      }}\n    >\n      <Box\n        ref={containerRef}\n        sx={{\n          position: 'relative',\n          height: '100%',\n          overflow: 'hidden'\n        }}\n      >\n        <Box\n          {...handlers}\n          sx={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            zIndex: 5,\n            transitionProperty: 'opacity',\n            transitionTimingFunction: 'ease-out',\n            transitionDuration: `${transitionDuration}ms`,\n            opacity\n          }}\n        >\n          <Link href={`/works/${_link}/`}>\n            <GatsbyImage\n              image={getImage(img[current].node)}\n              alt='YUHEI ONO'\n              layout='fullWidth'\n              placeholder='blurred'\n              style={{\n                pointerEvents: 'none',\n                userSelect: 'none'\n              }}\n            />\n          </Link>\n        </Box>\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            zIndex: -1\n          }}\n        >\n          <GatsbyImage\n            image={getImage(img[(current + 1) % img.length].node)}\n            alt='preload'\n            layout='fullWidth'\n            style={{\n              opacity: 0,\n              visibility: 'hidden',\n              pointerEvents: 'none',\n              userSelect: 'none'\n            }}\n          />\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Mainvisual;\n"],"names":["noop","isBrowser","window","defaultTarget","isListenerType1","target","addEventListener","isListenerType2","on","name","handler","options","useEffect","obj","args","_i","arguments","length","apply","removeEventListener","off","JSON","stringify","key","fn","opts","deps","_a","event","useMemoHandler","useMemo","keyFilter","predicate","handlerEvent","LEFT","RIGHT","UP","DOWN","defaultProps","delta","preventScrollOnSwipe","rotationAngle","trackMouse","trackTouch","swipeDuration","Infinity","touchEventOptions","passive","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","rotateXYByAngle","pos","angle","angleInRadians","Math","PI","cos","sin","getHandlers","set","handlerProps","onStart","isTouch","touches","state","props","document","onMove","onUp","clientX","clientY","onTouchStartOrOnMouseDown","Object","assign","slice","timeStamp","x","y","deltaX","deltaY","absX","abs","absY","time","velocity","sqrt","vxvy","dir","getDirection","toLowerCase","eventData","onSwipeStart","onSwiping","cancelablePageSwipe","onSwiped","cancelable","preventDefault","onEnd","onSwipedDir","onTap","onTouchEndOrOnMouseUp","e","attachTouch","el","cleanup","baseOptions","tls","forEach","h","o","output","ref","addState","cleanUpTouch","onMouseDown","useSwipeable","transientState","transientProps","previousProps","current","defaultKey","handlers","stateSetter","undefined","updateTransientState","data","img","images","edges","containerRef","React","clientHeight","setClientHeight","setCurrent","floor","random","opacity","setOpacity","isLockRequest","transitionDuration","showingTime","sleep","msec","Promise","resolve","setTimeout","next","autoShowNext","async","requestShow","isPrev","_ref","requestShowPrev","requestShowNext","useKey","onSwipedRight","onSwipedLeft","f","updateClientHeight","documentElement","update","width","height","getImage","node","newWidth","style","_link","relativePath","match","___EmotionJSX","Box","component","sx","position","display","justifyContent","alignItems","mt","overflow","_extends","top","left","zIndex","transitionProperty","transitionTimingFunction","Link","href","GatsbyImage","image","alt","layout","placeholder","pointerEvents","userSelect","visibility"],"sourceRoot":""}